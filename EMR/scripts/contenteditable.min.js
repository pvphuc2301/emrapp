//function format(e, t) { document.execCommand(e, !1, t) } window.addEventListener("load", function () {
//    let e, t, o, n = document.getElementsByClassName("contenteditable");

//    for (let e = 0; e < n.length; e++) {
//        n[e].setAttribute("contenteditable", "true");
//        n[e].setAttribute("style", "height: auto; display: inline-block;");
//        let t = document.createElement("font");
//        t.setAttribute("color", "black"), t.appendChild(document.createElement("br")), n[e].appendChild(t);

//        if (n[e].hasAttribute("data-binding")) {
            
//            let bindingTarget = document.getElementById(n[e].getAttribute("data-binding"));

//            n[e].addEventListener("input", function (e) {
//                bindingTarget.value = this.innerHTML;
//            }, false)
//        }
//    }

//    document.onpaste = function (o) { e = o.clipboardData || window.clipboardData, t = e.getData("Text"), format("foreColor", "red") }, 

//        document.onkeyup = function (e) { (13 === e.keyCode || 32 === e.keyCode && window.getSelection().anchorNode.textContent.includes(t)) && (format("foreColor", "black"), format("insertText", "")) },

//        document.onkeydown = function (e) { o = "red" === window.getSelection().focusNode.parentNode.color, 32 === e.keyCode && o && (e.preventDefault(), format("foreColor", "black"), format("insertText", " ")) }
//});

function format(e, t) { document.execCommand(e, !1, t) }

window.addEventListener("load", function () {
    let t, o;
    //, n = document.getElementsByClassName("contenteditable");

    //for (let e = 0; e < n.length; e++) {
    //    let inputValue = n[e];
    //    let inputDisplay = this.document.createElement("div");

    //    inputValue.setAttribute("type", "hidden");

    //    let _viewStatus = inputValue.getAttribute("data-status");
    //    let _styleStr = "height: auto;";

    //    if (_viewStatus == "hidden") {
    //        _styleStr += "display: none;";
    //    } else if (_viewStatus == "view") {
    //        _styleStr += "display: inline-block; ";
    //        _contenteditable = false;
    //    } else if (_viewStatus == "edit" || _viewStatus == undefined) {
    //        _styleStr += "display: inline-block;";
    //        _contenteditable = true;
    //    }

    //    inputDisplay.innerHTML = n[e].value;
    //    inputDisplay.setAttribute("contenteditable", _contenteditable);
    //    inputDisplay.setAttribute("spellcheck", "false");
    //    inputDisplay.setAttribute("style", _styleStr);
    //    inputDisplay.classList.add("form-control");
    //    n[e].parentElement.appendChild(inputDisplay);

    //    let btnComplete = document.getElementById("btnComplete");

    //    if (inputValue.id == "txtAmendReason") {
    //        inputDisplay.addEventListener("input", function (e) {
    //            inputValue.value = this.innerHTML;
    //            let amendResaon = this.innerText.trim();
    //            if (amendResaon.length < 3) {
    //                if (btnComplete.disabled != undefined) btnComplete.setAttribute("disabled", "disabled");
    //            } else { btnComplete.removeAttribute("disabled") }
    //        }, false)
    //    } else {
    //        inputDisplay.addEventListener("input", function (e) {
    //            inputValue.value = this.innerHTML;
    //        }, false)
    //    }
    //}

    //document.onpaste = function (o) { e = o.clipboardData || window.clipboardData, t = e.getData("Text"), format("foreColor", "red") },

    document.onkeyup = function (e) { (13 === e.keyCode || 32 === e.keyCode && window.getSelection().anchorNode.textContent.includes(t)) && (format("foreColor", "black"), format("insertText", "")) },

    document.onkeydown = function (e) { o = "red" === window.getSelection().focusNode.parentNode.color, 32 === e.keyCode && o && (e.preventDefault(), format("foreColor", "black"), format("insertText", " ")) }

    document.addEventListener('paste', (event) => {
        let paste = (event.clipboardData || window.clipboardData).getData('text');

        paste = paste.trim();

        const selection = window.getSelection();
        if (!selection.rangeCount) return false;
        selection.deleteFromDocument();

        let text;

        if (window.getSelection().focusNode.parentNode.color == "red") {
            text = this.document.createTextNode(paste);
        }
        else {
            text = document.createElement("font");
            text.color = 'red';
            text.innerText = paste;
        }

        selection.getRangeAt(0).insertNode(text);

        event.preventDefault();
    });

    document.body.addEventListener('dragover', function (e) {
        e.preventDefault();
        e.stopPropagation();
    }, false);

    document.body.addEventListener('drop', function (e) {
        e.preventDefault();
        e.stopPropagation();
    }, false);
});
